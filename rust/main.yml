---
- name: Install rustup
  shell: |
    if ! command -v rustup &> /dev/null; then
      curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
    fi
  register: rustup_install

  tags: [rust, install]

- name: Install bat
  shell: source ~/.cargo/env && cargo install bat
  register: bat_install
  failed_when: false

  tags: [rust, packages]

- name: Install lsd
  shell: source ~/.cargo/env && cargo install lsd
  register: lsd_install
  failed_when: false

  tags: [rust, packages]

- name: Install git-delta
  shell: source ~/.cargo/env && cargo install git-delta
  register: delta_install
  failed_when: false

  tags: [rust, packages]

- name: Install xsv
  shell: source ~/.cargo/env && cargo install xsv
  register: xsv_install
  failed_when: false

  tags: [rust, packages]

- name: Install code-minimap
  shell: source ~/.cargo/env && cargo install code-minimap
  register: minimap_install
  failed_when: false

  tags: [rust, packages]
