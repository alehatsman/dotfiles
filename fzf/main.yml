---
- name: Clone fzf repository
  shell: git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
  register: fzf_clone
  failed_when: false
  changed_when: result.rc == 0
  tags: [fzf, install]

- name: Install fzf
  shell: |
    if [ -d ~/.fzf ] && [ ! -f ~/.fzf/bin/fzf ]; then
      ~/.fzf/install --all --no-update-rc
    fi
  tags: [fzf, install]
